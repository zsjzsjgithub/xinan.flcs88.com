(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a06392a"],{2166:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("b775");function s(t,e,n,s){return Object(o["a"])({url:"api/goods/updateCart",method:"post",data:{id:t,nums:e,size_id:n,size_name:s}})}},"28e1":function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"i",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"h",(function(){return d})),n.d(e,"g",(function(){return l})),n.d(e,"a",(function(){return f}));var o=n("b775");function s(t){return Object(o["a"])({url:"api/login/bindPhone",method:"post",data:{phone:t}})}function r(){return Object(o["a"])({url:"api/address/addressList",method:"get"})}function i(t){return Object(o["a"])({url:"api/address/delete",method:"post",data:{id:t}})}function a(t){return Object(o["a"])({url:"api/address/edit",method:"get",params:{id:t}})}function u(t){return Object(o["a"])({url:"api/address/update",method:"post",data:t})}function c(t){return Object(o["a"])({url:"api/address/create",method:"post",data:t})}function d(t){return Object(o["a"])({url:"api/address/setDefault",method:"post",data:{id:t}})}function l(t){return Object(o["a"])({url:"api/goods/order",method:"post",data:t})}function f(t){return Object(o["a"])({url:"api/goods/addCart",method:"post",data:t})}},"2f9e":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("van-sticky",[o("van-nav-bar",{attrs:{title:"立即购买","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),o("div",{staticClass:"address-container",on:{click:t.chooseAddress}},[o("img",{staticClass:"location-img",attrs:{src:n("b319")}}),t.curAddress.name?o("div",{staticClass:"address-info"},[o("div",{staticClass:"address-info-top"},[o("span",[t._v(t._s(t.curAddress.name))]),o("span",[t._v(t._s(t.curAddress.phone))])]),o("div",{staticClass:"address-info-bottom van-ellipsis"},[t._v("\n        "+t._s(t.curAddress.province)+t._s(t.curAddress.city)+t._s(t.curAddress.area)+t._s(t.curAddress.detail)+"\n      ")])]):o("div",{staticClass:"no-default-address"},[t._v("新增收货地址")]),o("van-icon",{staticClass:"arrow-icon",attrs:{name:"arrow"}})],1),o("div",{staticClass:"goodsList"},[o("div",{staticClass:"goodsItem"},[o("img",{staticClass:"goodsImg leftEl",attrs:{src:t.slides,alt:""}}),o("div",{staticClass:"leftEl goodsRight"},[o("div",{staticClass:"goodsName"},[t._v(t._s(t.goodsInfo.goods_name))]),o("div",{staticClass:"goodsNum"},[o("span",[t._v("￥"+t._s(t.goodsInfo.price))]),o("van-stepper",{staticClass:"rightEl",on:{change:t.getValue},model:{value:t.goodsNum,callback:function(e){t.goodsNum=e},expression:"goodsNum"}})],1),o("div",{staticClass:"goodsWeight"}),o("div",{staticClass:"goodsPrice rightEl"},[t._v("\n          小计:\n          "),o("span",[t._v("￥"+t._s((t.goodsInfo.price*t.goodsNum).toFixed(2)))])])])])]),o("div",{staticClass:"payMid"},[o("div",{staticClass:"midItem"},[t._v("\n      运费\n      "),o("span",{staticClass:"midNum rightEl"},[t._v(t._s(t.freight)+"元")])])]),o("div",{staticClass:"payMid"},[o("van-cell-group",[o("van-field",{attrs:{rows:"2",autosize:"",label:"买家留言:",type:"textarea",maxlength:"50",placeholder:"请输入留言","show-word-limit":""},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1)],1),o("div",{staticClass:"payBtm"},[o("span",[t._v("\n      实际付款金额:\n      "),o("span",{staticClass:"totalPrice"},[t._v("￥"+t._s(t.totalPrice))])]),o("button",{on:{click:t.nowPay}},[t._v("立即购买")])]),o("van-dialog",{attrs:{title:"交易密码","show-cancel-button":"","before-close":t.beforePasswordClose},on:{confirm:t.pay,cancel:t.cancelPay},model:{value:t.showPassword,callback:function(e){t.showPassword=e},expression:"showPassword"}},[o("van-password-input",{staticStyle:{position:"initial"},attrs:{value:t.password,info:"密码为 6 位数字类型"}})],1),o("van-number-keyboard",{staticStyle:{color:"black"},attrs:{id:"keyboard-panel",show:t.showPassword,"z-index":9999},on:{input:t.onInput,delete:t.onDelete}})],1)},s=[],r=(n("163d"),n("28e1")),i=n("3f52"),a=n("2166"),u={data:function(){return{type:1,goodsNum:1,curAddress:{},goodsImg:"",remarks:"",password:"",goodsInfo:{},freight:0,showPassword:!1,integralShow:!1,integralInput:"",myIntegral:"",commissionShow:!1,commissionInput:"",myCommission:"",chooseSize:{},ticketChoose:{price:0},totalPrice:"",cartData:[],config:"",slides:[],goodsId:{},dec:0}},created:function(){this.getAddressList(),this.goodsId=JSON.parse(localStorage.getItem("goodsId")),this.goodsInfo=this.goodsId,this.slides=this.goodsInfo.img,this.getTotal()},methods:{beforePasswordClose:function(t,e){"confirm"===t&&6!=this.password.length?e(!1):e()},onInput:function(t){this.password=(this.password+t).slice(0,6),this.zIndex=9999},onDelete:function(){this.password=this.password.slice(0,this.password.length-1)},cancelPay:function(){this.password=""},pay:function(){var t=this;Object(r["g"])({transaction:this.password,id:this.goodsInfo.id,num:this.goodsNum,remarks:this.remarks,totalMoney:this.totalPrice,address_id:this.curAddress.id,uid:this.id,freight:this.freight}).then((function(e){t.password="",console.log(e),0==e.errcode?(t.$toast("下单成功"),setTimeout((function(e){t.$router.push({name:"Mall"})}),1e3)):t.$toast(e.msg)}))},chooseCoupon:function(){this.$router.push("myCoupon")},getValue:function(t){this.getTotal()},changeValue:function(t,e,n,o){Object(a["a"])(t,e,n,o).then((function(t){})),this.getCartTotal()},getCartTotal:function(){Number(this.goodsInfo.price),Number(this.goodsInfo.nums)},getReduce:function(){},getTotal:function(){console.log(this.freight),this.totalPrice=Number(this.goodsInfo.price)*this.goodsNum+Number(this.freight)},showIntegral:function(){this.integralShow=!0,this.getIntegral()},getIntegral:function(){var t=this;Object(i["h"])().then((function(e){t.myIntegral=e.integral}))},sendIntegral:function(t,e){"confirm"==t?Number(this.integralInput)>Number(this.myIntegral)?(this.$toast("填写的抵扣积分不能大于拥有的积分！"),e(!1)):(1==this.type?this.getTotal():this.getCartTotal(),e()):e()},showCommission:function(){this.commissionShow=!0,this.getCommission()},getCommission:function(){var t=this;Object(i["g"])().then((function(e){t.myCommission=e.commission}))},sendCommission:function(t,e){"confirm"==t?parseInt(this.commissionInput)>parseInt(this.myCommission)?(this.$toast("填写的抵扣佣金不能大于拥有的佣金！"),e(!1)):(1==this.type?this.getTotal():this.getCartTotal(),e()):e()},getAddressList:function(){var t=this;Object(r["b"])().then((function(e){e.map((function(e,n){1==e.status&&(console.log(e.province),"新疆维吾尔自治区"==e.province||"西藏自治区"==e.province||"内蒙古自治区"==e.province||"青海省"==e.province||"广西壮族自治区"==e.province||"海南省"==e.province||"台湾省"==e.province||"香港特别行政区"==e.province||"澳门特别行政区"==e.province?(t.freight=12,t.getTotal()):(t.freight=0,t.getTotal()),t.curAddress=e)}))}))},chooseAddress:function(){this.$router.push({path:"myAddress"})},onClickLeft:function(){this.$router.push("goodsDetails")},nowPay:function(){this.showPassword=!0}}},c=u,d=(n("3595"),n("623f")),l=Object(d["a"])(c,o,s,!1,null,"4ba7e718",null);e["default"]=l.exports},3595:function(t,e,n){"use strict";var o=n("9bc1"),s=n.n(o);s.a},"3f52":function(t,e,n){"use strict";n.d(e,"y",(function(){return s})),n.d(e,"q",(function(){return r})),n.d(e,"x",(function(){return i})),n.d(e,"i",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"k",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"r",(function(){return f})),n.d(e,"u",(function(){return h})),n.d(e,"a",(function(){return p})),n.d(e,"m",(function(){return g})),n.d(e,"w",(function(){return m})),n.d(e,"l",(function(){return w})),n.d(e,"n",(function(){return v})),n.d(e,"z",(function(){return I})),n.d(e,"p",(function(){return b})),n.d(e,"t",(function(){return A})),n.d(e,"s",(function(){return C})),n.d(e,"f",(function(){return O})),n.d(e,"e",(function(){return j})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return k})),n.d(e,"b",(function(){return S})),n.d(e,"v",(function(){return P})),n.d(e,"o",(function(){return J})),n.d(e,"A",(function(){return L}));var o=n("b775");function s(){return Object(o["a"])({url:"api/user/userInfo",method:"get"})}function r(t){return Object(o["a"])({url:"api/login/sendSms",method:"post",data:t})}function i(){return Object(o["a"])({url:"api/user/userCenter",method:"get"})}function a(){return Object(o["a"])({url:"api/user/myQrcode",method:"get"})}function u(){return Object(o["a"])({url:"api/user/myTicket",method:"get"})}function c(){return Object(o["a"])({url:"api/user/myCommission",method:"get"})}function d(){return Object(o["a"])({url:"api/user/myteam",method:"get"})}function l(){return Object(o["a"])({url:"api/user/myIntegral",method:"get"})}function f(){return Object(o["a"])({url:"api/user/serviceList",method:"get"})}function h(t){return Object(o["a"])({url:"api/user/transferRecord",method:"get",params:t})}function p(t){return Object(o["a"])({url:"api/user/addAppeal",method:"post",data:t})}function g(t){return Object(o["a"])({url:"api/user/rechargeIntegralList",method:"post",data:t})}function m(t,e){return Object(o["a"])({url:"api/user/upload",method:"post",data:{img:t,type:e}})}function w(){return Object(o["a"])({url:"api/user/rechargeInfo",method:"get"})}function v(t){return Object(o["a"])({url:"api/user/rewardList",method:"get",params:t})}function I(){return Object(o["a"])({url:"api/user/walletList",method:"get"})}function b(){return Object(o["a"])({url:"api/user/seeStrategy",method:"get"})}function A(){return Object(o["a"])({url:"api/user/transferInfo",method:"get"})}function C(t){return Object(o["a"])({url:"api/user/transferAction",method:"post",data:t})}function O(t){return Object(o["a"])({url:"api/user/editSecondPassword",method:"post",data:t})}function j(t){return Object(o["a"])({url:"api/user/editDefault",method:"post",data:t})}function y(t){return Object(o["a"])({url:"api/user/cashWithdrawal",method:"post",data:t})}function k(t){return Object(o["a"])({url:"api/user/delWallet",method:"post",data:t})}function S(t){return Object(o["a"])({url:"api/user/addWallet",method:"post",data:t})}function P(t){return Object(o["a"])({url:"api/user/updateInfo",method:"post",data:t})}function J(t,e,n,s){return Object(o["a"])({url:"api/wechat/scanPay",method:"post",data:{money:t,coupon_id:e,decintegral:n,deccommission:s}})}function L(t,e){return Object(o["a"])({url:"api/wechat/withdraw",method:"post",data:{commission:t,real_name:e}})}},"9bc1":function(t,e,n){},b319:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAKP0lEQVRoQ81be3QU5RX/fbPZTbIJBAJJCCSBJMLhrUcQahUQlfZEaR5LQo5iodDSCrQo0PASqBaO1IMcaZGIRKmliMKGTUjBAFIsUEQQisr7kSd5EPIgz81md2e+nm9I4oZ9zexMxPsPJ+y9v3vv3Jnv++7jI+gmKkhLC+Ha7I9TkLGUYAQBiQUwAEAvAMHtapsB1AO0ggKFhOISAT0r+PudijcaG7rDNKIm6A2DIUojIJ1QYqDAeAAaH/F5ApymhJqoXWOM328s9RHHSUwVhwsTDRMBkgGCBAVOuvOJB0U+0XBvx+YYjyl1XJHDRcmpT1FK/wxgglJDJMqfIISsic3N/o9EfnUiXGwwRAo8NgBkhq+KlcnRjzkNMgaZTJVycWRHuDAxNQ2EZgEIkatMZf4GUDI3Li/bKAdXssMX09J0epuwERS/l6Og23kJ3uXbzH8cnJ/fJkWXJIevJib20BFtDoBnpIA+AJ7jWh2XEm001nnT7dXhG2lpYRornw+QMd7AHujvFN/y/tyUwUZjtSc7PDrMDg+wCUcJxaMP1Bnpys9THTfZ06HFrcPsmw2y0XxK6dPS9XnmDBg2FLr4OGj79QM4DvY7d2AtLoHlwkVQnldFDSHkaIuWJIw0Gq2uAN06XJhk2AKQ+WpYoe3fH0GPj4f+J+OhGxgDotOJsMxJW3kFWs+eQ/Ox47CWqHWgoplx+0wLJDvcvvXsUeosp9ej74KXEfTETyVBsUhXb84UI6+YCNLjcvc6+eAU4VtT0wbYNMLF9kO+z3oDH3kY4cszwAUEyMao2boNTQcPy5a7T6Ce19BRg02mMsf/d3K4ICnVREBTlGhjr2/4sgwlEKjbsRMNplxFGBQkJ35ftsGtw8WJhskCIUeVaNEO6I+oLX9TAtEpW/XmWzCf+VoRFiXk2fjc7H93gHSJcGGi4QQIeVKJhuis9+AXFuYWwl5dA1tFBUCpyMcekFuiFMXTXwS12Xw3idL/xuWZOpObTofFFI8QRelX8KSJCFu00KVxfH096v7xTzR/0VUF+9ZD58yCLibGpRz7ltk3rYgonRSXZzrOMBwcnvYvEEz1GZgQxGzPgqY3K2h0JXt1NcrmL/QYqch1byBg5AgnWWq1ilFWRBT74/L2/qLT4ZspKeGcwJUD8PMVWBsdhajNm5zFKUXp7LlgEfZIhGDQnl0gWq0TW9W69TCfPeeraUzOLnDCgIdycu6IES5KNrxKKXlHCWLwhCcRtuRVJ4iWk6dwZ8NGSdA9n38OfebOceJtOnwENZlbJWG4YyKELorNNW0SHVZjsQqd+RJCDMnO0Vn/Fsynpa207MgZtfVdJwzLpcuofG2NIofRvngRliAQq1CrtBbVd/7v0ONnU5yMKl+cAWthkSRj/cLDEb0t04m37cZNVGQsl4ThgYmnOq4PKU5OTRAo/UwpmrsI3359LVq/+VYSvF9EBKLf3+Ic4ctXULlytSQMT0wcIc+RwqRprwFYpxSNJQYRy51PV02HP0dN5vuS4IMmPIHwJYuceBsPfIbarO2SMLwsjGuYw58CSFeK5u51pG1tKE6XVuuL+fsHLre1yhWrYLlyVamJTH43KUwynAbIODXQBmzaCN2ggT4tOmELFyD46clOsoLZjJIXZ6phHktIz7AI3wIQpQaifvw4RKxY6hKKRejux5/AcvFSl991MdHolZ7mNoVsPHgItVtZkVQ5UaCcOdzk0OtRhkoIBu7aAS4w0C1O27XrsFy9BgiCWP0IHD3Ko86SGbMgtLQos+t76SbmMFULjeEET56EsFf+oApk87ETqH7nr6pgdYCo7jADjvnoA2h6OZ+p5VpePP0FUKuCTMlZoVXdV7pdASvWRa5XttPd3bkL9dkmuc/IG3+dqouWoza2eLFFzBfi794VE45uoBJVtyVHA1nWM/DTnSAa+S3i8iVLYS0o7AZ/721Lqhw8XFmnH/8YIlYsk2V4Q24e6j7aIUtGBvNuUphoWAVC1soQksXKjorsyCiFWI26bIHriokUea88hKxRLXnwpMzdkfF+mdJZvwbf0C2jHaIqMXlQKz305LC7PNdRpuovG2D+6rTXIClg4Anh+6pSAND07An/4cMQOGoEtFFR8IsIh/mrM12+xeCJExC2+BWX9jYeyEdt1oedv+nHPQaWX9tramErLQUrALRevAx7VZXv/nYUABiCLyWewIdHI3DMo9CPG3uvOeZAQmsrGvbmOO2joXN+hZDErnXCtus3ULF0RRd5to/3XTAP2ig25fQ9sSNmy6nTaD3/DVpOfinL+S4lHjlFPLYA9X4hHaxBxkgwt8Ly3XewXLkGy5UrsJWVg2U47qjf66vBSrOM+Lo6lM75rUfDtf0j4T90KAJHj4T/kCFgf4t6W1vFN6jp0OdSHO9axGMShUmp+wH6vCfpiNUroR9zr1XcdOQoGvMP+rRfxny4Tcx7S+e+DL7Wa9O+i0makBD0SPg5ek1LESuc1uJiVK76E4RmTwkGORC3L1t8tSQX4iNWLgP7tli6Vpe1XVk/lxBoegSDb2SJmu/EioastGSrvI2yeR5GT1wV4sUoe2i1xOZmi0+x5KVZvlvYDZIdiUpRcqprdHetFsZdkJz6DKH0iCvJ0NkzEZKUKK6YrGXCFpsHSQGjRiL0lzPgP2SwuIjdfsN1skJBp8TvM3X6JKtdGjp7FkKSxI6FOKZg/t95URkbW/ghSBcXKy54+rFjEDB8mKiSTQ5Ub9osNufuJ6/tUiYgDojy5IK7hnjAiOEISUkSlXYQW23NX59D2/XrsNfWga+7K3YIqd3u03NgixHrKmp694Zfnz7wH/yQuP2xvzuIlX5ZR6Lly1PudEhriIvfcvK06aDY7cladtgImjQB7EDBDHJFrJ9ku10FoakJfH0DhOZmsCqmIxF/f3BBQdCE9gYXHCxuOwzbFbEVme3DrAPpdSxC6shDh6KixGmZlGCe1BCxInrA0CHQxcfDP3YQ2OvHHPGFBItF7FZYS0thvVkAy7XrsN3qMrngEZZQvBebt9flQI7HsSW9VTgE4Ck5RrP81y8yUjwlsUix7YcEBIizHuxfom1vULJPjgDUzotRZwcJarGIOwHf1ARbWRlsVVWgFkkThY4mHjfruCmyx5YYQllKSh+rwH0BwHNpUc4T6V7eCzpOmByVk8N6ZS7J6+hh+7GTRfqR7rVVMfoFgROeZT1gT0heHRZX7oQZPTmdJZcAzq0BxXaqAnBCq+OSVRku7TDnRkKCv0anZ51tlxNuqpjtEwjN5K2ti1UdH3a040c0IN4ISn7TbQPijk6zKwCUJ29TQOG0iU8hBaH4hPjRJT/IFQBHE8VLHoKwVulslwy3T3KUrh6UZ2I7h08kadHyhlyUkjaJCjQDoOwaD+eNX+bvAkDyCUc2PPBrPPcbXjA1LYZo6HRAMLT3nOVX4e+B8qyXC3AmypM9P7qLWq4i5ngVDyCjwCEWFH0B2gsg7VfxaDNA6kFQAwFFAL3Q3Vfx/g/NzAKwf5JIHgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-3a06392a.06238697.js.map