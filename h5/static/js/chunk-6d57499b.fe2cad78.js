(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d57499b"],{"0b18":function(t,i,r){"use strict";r.r(i);var a=function(){var t=this,i=t.$createElement,r=t._self._c||i;return r("div",[r("van-sticky",[r("van-nav-bar",{attrs:{title:"我的订单","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),r("div",{staticClass:"conWrap"},[r("van-tabs",{attrs:{"title-inactive-color":"#9999","title-active-color":"#DE4F53"},on:{change:function(i){return t.changeItem(i)}},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},[r("van-tab",{attrs:{title:"待发货"}}),r("van-tab",{attrs:{title:"待收货"}}),r("van-tab",{attrs:{title:"已完成"}}),r("van-tab",{attrs:{title:"全部"}})],1),0==t.listData.length?r("div",{staticClass:"noData"},[t._v("\n      暂无数据！\n    ")]):r("div",t._l(t.listData,(function(i){return r("div",{staticClass:"order-item-wrapper",on:{click:function(r){return t.$router.push({path:"Order-detail",query:{id:i.id}})}}},[r("div",{staticClass:"order-header"},[r("span",[t._v("订单号:"+t._s(i.order_num))])]),t._l(i.orderdetail,(function(i){return r("div",{staticClass:"order-body"},[r("div",{staticClass:"order-body-pic"},[r("van-image",{attrs:{src:i.goods.imgs}})],1),r("div",{staticClass:"order-body-info"},[r("div",{staticClass:"order-body-info-name"},[t._v("\n              "+t._s(i.goods.goods_name)+"\n            ")]),r("div",{staticClass:"order-body-info-num"},[t._v("数量：x"+t._s(i.nums))])])])})),r("div",{staticClass:"order-bottom"},[r("div",{staticClass:"order-bottom-ctr"},[r("div",{staticClass:"leftEl itemNum"},[t._v("\n              共"+t._s(i.orderdetail.length)+"件商品\n            ")]),r("div",{staticClass:"rightEl itemPrice"},[t._v("\n              实付款:"),r("span",[t._v("￥")]),t._v(t._s(i.cash)),r("span")])])]),r("div",{staticClass:"itemBtn"},[r("div",{staticClass:"rightEl"},[1==i.status?r("van-button",{attrs:{plain:"",round:"",size:"small"},on:{click:function(r){return r.stopPropagation(),t.$router.push({path:"logistics",query:{id:i.id}})}}},[t._v("查看物流")]):t._e(),1==i.status?r("van-button",{staticClass:"orange-color rightEl",attrs:{plain:"",round:"",size:"small"},on:{click:function(r){return r.stopPropagation(),t.confirmOrder(i.id)}}},[t._v("确认收货")]):t._e()],1)])],2)})),0)],1)],1)},n=[],s=(r("9a33"),r("6d57"),r("7a50")),e=r("f8b7"),o={data:function(){return{active:0,listData:[],status:0}},created:function(){this.active=parseInt(this.$route.query.type),this.$route.query.type&&(this.status=this.$route.query.type),this.orderList()},methods:{onClickLeft:function(){this.$router.go(-1)},changeItem:function(t){this.status=t,this.orderList()},orderList:function(){var t=this;Object(e["d"])(this.status).then((function(i){i.forEach((function(t){t.orderdetail.forEach((function(t){t.goods.imgs=t.goods.imgs.split(",")[0]}))})),t.listData=i}))},cancelOrder:function(t){var i=this;s["a"].confirm({title:"取消订单",message:"确定取消此订单？"}).then((function(){Object(e["a"])(t).then((function(t){i.$toast("取消订单成功"),i.orderList()}))})).catch((function(){i.$toast("取消操作")}))},scanLog:function(t){this.$router.push({path:"logistics",query:{id:t}})},confirmOrder:function(t){var i=this;s["a"].confirm({title:"确认收货",message:"确认收货此订单？"}).then((function(){Object(e["e"])(t).then((function(t){i.$toast("确认收货成功!"),i.orderList()}))})).catch((function(){i.$toast("取消操作")}))}}},c=o,u=(r("cfeb"),r("5511")),d=Object(u["a"])(c,a,n,!1,null,"71c730d8",null);i["default"]=d.exports},"1a69":function(t,i,r){},cfeb:function(t,i,r){"use strict";var a=r("1a69"),n=r.n(a);n.a},f8b7:function(t,i,r){"use strict";r.d(i,"d",(function(){return n})),r.d(i,"c",(function(){return s})),r.d(i,"a",(function(){return e})),r.d(i,"e",(function(){return o})),r.d(i,"b",(function(){return c}));var a=r("b775");function n(t){return Object(a["a"])({url:"api/orders/orderList",method:"get",params:{status:t}})}function s(t){return Object(a["a"])({url:"api/orders/orderDetail",method:"get",params:{id:t}})}function e(t){return Object(a["a"])({url:"api/orders/cancelOrders",method:"post",params:{id:t}})}function o(t){return Object(a["a"])({url:"api/orders/sure",method:"post",params:{id:t}})}function c(t){return Object(a["a"])({url:"api/orders/logisticsInfo",method:"get",params:{id:t}})}}}]);
//# sourceMappingURL=chunk-6d57499b.fe2cad78.js.map